{%  extends "crawls/base.html" %}
{% load staticfiles %}
{% block title %}EventCrawler{% endblock %}
{% block content %}

    <div class="logo">
        <img src="{%  static "crawls/logo.png" %}" class="img-fluid">

    </div>

    <h2>ABOUT</h2>
    <p>
    AI関連のイベントのまとめサイト。<br>
    クローラーにより定期的に情報収集。
    </p>

    <h2>{{ month }}月のAIイベント</h2>
    <hr>
    <div class="buttons center-block">
    <div class="button_wrapper csv-button">
        <a href="/api/{{ year }}-{{ month }}" class='button'>CSVとして出力</a>
    </div>

    <div class="button_wrapper article-button">
        <a href="/article/{{ year }}-{{ month }}" class='button'>記事として出力</a>
    </div>
    </div>

    <div class="pager">
    <div class="previous button_wrapper">
        {% if month != 1 %}
        <a href="/{{ year }}-{{ month|add:'-1' }}" class='button'>前月</a>
        {% else %}
        <a href="/{{ year|add:'-1' }}-12" class='button'>前月</a>
        {% endif %}
    </div>
    <div class="next button_wrapper">
        {% if month != 12 %}
            <a href="/{{ year }}-{{ month|add:'1' }}" class='button'>次月</a>
        {% else %}
            <a href="/{{ year|add:'1' }}-1" class='button'>次月</a>
        {% endif %}
    </div>
    </div>
    <hr>
    <div class="table-wrapper">
    <table class="table table-dark table-hover">
        <thead>
        <tr>
            <th class="col-xs-5" id="th-title">Title</th>
            <th class="col-xs-5" id="th-address">Address</th>
            <th class="col-xs-2" id="th-date">Date</th>
        </tr>
        </thead>
        <tbody>

        {% for crawl in crawls.all %}
            <tr>
                <td id="td-title">
                    <a href="{{ crawl.url }}">{{ crawl.title }}</a>
                </td>
                <td id="td-address">
                    {{ crawl.address }}
                </td>
                <td id="td-date" style="width:20%">
                    {{ crawl.date }}
                </td>

            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>

{% endblock content %}
